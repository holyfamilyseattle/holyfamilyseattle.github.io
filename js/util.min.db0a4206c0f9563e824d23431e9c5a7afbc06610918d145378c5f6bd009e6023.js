(function(a){a.fn.navList=function(){var c=a(this);return $a=c.find('a'),b=[],$a.each(function(){var c=a(this),f=Math.max(0,c.parents('li').length-1),d=c.attr('href'),e=c.attr('target');b.push('<a class="link depth-'+f+'"'+(typeof e!='undefined'&&e!=''?' target="'+e+'"':'')+(typeof d!='undefined'&&d!=''?' href="'+d+'"':'')+'>'+'<span class="indent-'+f+'"></span>'+c.text()+'</a>')}),b.join('')},a.fn.panel=function(h){var d,b,f,g,e,c;if(this.length==0)return b;if(this.length>1){for(d=0;d<this.length;d++)a(this[d]).panel(h);return b}return b=a(this),f=a('body'),g=a(window),e=b.attr('id'),c=a.extend({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:b,visibleClass:'visible'},h),typeof c.target!='jQuery'&&(c.target=a(c.target)),b._hide=function(a){if(!c.target.hasClass(c.visibleClass))return;a&&(a.preventDefault(),a.stopPropagation()),c.target.removeClass(c.visibleClass),window.setTimeout(function(){c.resetScroll&&b.scrollTop(0),c.resetForms&&b.find('form').each(function(){this.reset()})},c.delay)},b.css('-ms-overflow-style','-ms-autohiding-scrollbar').css('-webkit-overflow-scrolling','touch'),c.hideOnClick&&(b.find('a').css('-webkit-tap-highlight-color','rgba(0,0,0,0)'),b.on('click','a',function(f){var g=a(this),d=g.attr('href'),h=g.attr('target');if(!d||d=='#'||d==''||d=='#'+e)return;f.preventDefault(),f.stopPropagation(),b._hide(),window.setTimeout(function(){h=='_blank'?window.open(d):window.location.href=d},c.delay+10)})),b.on('touchstart',function(a){b.touchPosX=a.originalEvent.touches[0].pageX,b.touchPosY=a.originalEvent.touches[0].pageY}),b.on('touchmove',function(h){var e,d,i,j,f,a,g;if(b.touchPosX===null||b.touchPosY===null)return;if(e=b.touchPosX-h.originalEvent.touches[0].pageX,d=b.touchPosY-h.originalEvent.touches[0].pageY,i=b.outerHeight(),j=b.get(0).scrollHeight-b.scrollTop(),c.hideOnSwipe){switch(f=!1,a=20,g=50,c.side){case'left':f=d<a&&d>-1*a&&e>g;break;case'right':f=d<a&&d>-1*a&&e<-1*g;break;case'top':f=e<a&&e>-1*a&&d>g;break;case'bottom':f=e<a&&e>-1*a&&d<-1*g;break;default:break}if(f)return b.touchPosX=null,b.touchPosY=null,b._hide(),!1}(b.scrollTop()<0&&d<0||j>i-2&&j<i+2&&d>0)&&(h.preventDefault(),h.stopPropagation())}),b.on('click touchend touchstart touchmove',function(a){a.stopPropagation()}),b.on('click','a[href="#'+e+'"]',function(a){a.preventDefault(),a.stopPropagation(),c.target.removeClass(c.visibleClass)}),f.on('click touchend',function(a){b._hide(a)}),f.on('click','a[href="#'+e+'"]',function(a){a.preventDefault(),a.stopPropagation(),c.target.toggleClass(c.visibleClass)}),c.hideOnEscape&&g.on('keydown',function(a){a.keyCode==27&&b._hide(a)}),b},a.fn.placeholder=function(){var c,b;if(typeof document.createElement('input').placeholder!='undefined')return a(this);if(this.length==0)return b;if(this.length>1){for(c=0;c<this.length;c++)a(this[c]).placeholder();return b}return b=a(this),b.find('input[type=text],textarea').each(function(){var b=a(this);(b.val()==''||b.val()==b.attr('placeholder'))&&b.addClass('polyfill-placeholder').val(b.attr('placeholder'))}).on('blur',function(){var b=a(this);if(b.attr('name').match(/-polyfill-field$/))return;b.val()==''&&b.addClass('polyfill-placeholder').val(b.attr('placeholder'))}).on('focus',function(){var b=a(this);if(b.attr('name').match(/-polyfill-field$/))return;b.val()==b.attr('placeholder')&&b.removeClass('polyfill-placeholder').val('')}),b.find('input[type=password]').each(function(){var b=a(this),c=a(a('<div>').append(b.clone()).remove().html().replace(/type="password"/i,'type="text"').replace(/type=password/i,'type=text'));b.attr('id')!=''&&c.attr('id',b.attr('id')+'-polyfill-field'),b.attr('name')!=''&&c.attr('name',b.attr('name')+'-polyfill-field'),c.addClass('polyfill-placeholder').val(c.attr('placeholder')).insertAfter(b),b.val()==''?b.hide():c.hide(),b.on('blur',function(a){a.preventDefault();var c=b.parent().find('input[name='+b.attr('name')+'-polyfill-field]');b.val()==''&&(b.hide(),c.show())}),c.on('focus',function(a){a.preventDefault();var b=c.parent().find('input[name='+c.attr('name').replace('-polyfill-field','')+']');c.hide(),b.show().focus()}).on('keypress',function(a){a.preventDefault(),c.val('')})}),b.on('submit',function(){b.find('input[type=text],input[type=password],textarea').each(function(c){var b=a(this);b.attr('name').match(/-polyfill-field$/)&&b.attr('name',''),b.val()==b.attr('placeholder')&&(b.removeClass('polyfill-placeholder'),b.val(''))})}).on('reset',function(c){c.preventDefault(),b.find('select').val(a('option:first').val()),b.find('input,textarea').each(function(){var b=a(this),c;switch(b.removeClass('polyfill-placeholder'),this.type){case'submit':case'reset':break;case'password':b.val(b.attr('defaultValue')),c=b.parent().find('input[name='+b.attr('name')+'-polyfill-field]'),b.val()==''?(b.hide(),c.show()):(b.show(),c.hide());break;case'checkbox':case'radio':b.attr('checked',b.attr('defaultValue'));break;case'text':case'textarea':b.val(b.attr('defaultValue')),b.val()==''&&(b.addClass('polyfill-placeholder'),b.val(b.attr('placeholder')));break;default:b.val(b.attr('defaultValue'));break}})}),b},a.prioritize=function(b,d){var c='__prioritize';typeof b!='jQuery'&&(b=a(b)),b.each(function(){var b=a(this),e,f=b.parent();if(f.length==0)return;if(b.data(c)){if(d)return;e=b.data(c),b.insertAfter(e),b.removeData(c)}else{if(!d)return;if(e=b.prev(),e.length==0)return;b.prependTo(f),b.data(c,e)}})}})(jQuery)