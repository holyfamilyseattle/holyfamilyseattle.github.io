(function(e){e.fn.navList=function(){var t=e(this);return $a=t.find("a"),b=[],$a.each(function(){var t=e(this),o=Math.max(0,t.parents("li").length-1),n=t.attr("href"),s=t.attr("target");b.push('<a class="link depth-'+o+'"'+(typeof s!="undefined"&&s!=''?' target="'+s+'"':'')+(typeof n!="undefined"&&n!=''?' href="'+n+'"':'')+">"+'<span class="indent-'+o+'"></span>'+t.text()+"</a>")}),b.join('')},e.fn.panel=function(a){if(this.length==0)return t;if(this.length>1){for(s=0;s<this.length;s++)e(this[s]).panel(a);return t}var s,t=e(this),i=e("body"),r=e(window),o=t.attr("id"),n=e.extend({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:t,visibleClass:"visible"},a);return typeof n.target!="jQuery"&&(n.target=e(n.target)),t._hide=function(e){if(!n.target.hasClass(n.visibleClass))return;e&&(e.preventDefault(),e.stopPropagation()),n.target.removeClass(n.visibleClass),window.setTimeout(function(){n.resetScroll&&t.scrollTop(0),n.resetForms&&t.find("form").each(function(){this.reset()})},n.delay)},t.css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch"),n.hideOnClick&&(t.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),t.on("click","a",function(i){var a=e(this),s=a.attr("href"),r=a.attr("target");if(!s||s=="#"||s==''||s=="#"+o)return;i.preventDefault(),i.stopPropagation(),t._hide(),window.setTimeout(function(){r=="_blank"?window.open(s):window.location.href=s},n.delay+10)})),t.on("touchstart",function(e){t.touchPosX=e.originalEvent.touches[0].pageX,t.touchPosY=e.originalEvent.touches[0].pageY}),t.on("touchmove",function(a){if(t.touchPosX===null||t.touchPosY===null)return;var o=t.touchPosX-a.originalEvent.touches[0].pageX,s=t.touchPosY-a.originalEvent.touches[0].pageY,c=t.outerHeight(),l=t.get(0).scrollHeight-t.scrollTop();if(n.hideOnSwipe){var i=!1,e=20,r=50;switch(n.side){case"left":i=s<e&&s>-1*e&&o>r;break;case"right":i=s<e&&s>-1*e&&o<-1*r;break;case"top":i=o<e&&o>-1*e&&s>r;break;case"bottom":i=o<e&&o>-1*e&&s<-1*r;break;default:break}if(i)return t.touchPosX=null,t.touchPosY=null,t._hide(),!1}(t.scrollTop()<0&&s<0||l>c-2&&l<c+2&&s>0)&&(a.preventDefault(),a.stopPropagation())}),t.on("click touchend touchstart touchmove",function(e){e.stopPropagation()}),t.on("click",'a[href="#'+o+'"]',function(e){e.preventDefault(),e.stopPropagation(),n.target.removeClass(n.visibleClass)}),i.on("click touchend",function(e){t._hide(e)}),i.on("click",'a[href="#'+o+'"]',function(e){e.preventDefault(),e.stopPropagation(),n.target.toggleClass(n.visibleClass)}),n.hideOnEscape&&r.on("keydown",function(e){e.keyCode==27&&t._hide(e)}),t},e.fn.placeholder=function(){if(typeof document.createElement("input").placeholder!="undefined")return e(this);if(this.length==0)return t;if(this.length>1){for(var n=0,t;n<this.length;n++)e(this[n]).placeholder();return t}return t=e(this),t.find("input[type=text],textarea").each(function(){var t=e(this);(t.val()==''||t.val()==t.attr("placeholder"))&&t.addClass("polyfill-placeholder").val(t.attr("placeholder"))}).on("blur",function(){var t=e(this);if(t.attr("name").match(/-polyfill-field$/))return;t.val()==''&&t.addClass("polyfill-placeholder").val(t.attr("placeholder"))}).on("focus",function(){var t=e(this);if(t.attr("name").match(/-polyfill-field$/))return;t.val()==t.attr("placeholder")&&t.removeClass("polyfill-placeholder").val('')}),t.find("input[type=password]").each(function(){var t=e(this),n=e(e("<div>").append(t.clone()).remove().html().replace(/type="password"/i,'type="text"').replace(/type=password/i,"type=text"));t.attr("id")!=''&&n.attr("id",t.attr("id")+"-polyfill-field"),t.attr("name")!=''&&n.attr("name",t.attr("name")+"-polyfill-field"),n.addClass("polyfill-placeholder").val(n.attr("placeholder")).insertAfter(t),t.val()==''?t.hide():n.hide(),t.on("blur",function(e){e.preventDefault();var n=t.parent().find("input[name="+t.attr("name")+"-polyfill-field]");t.val()==''&&(t.hide(),n.show())}),n.on("focus",function(e){e.preventDefault();var t=n.parent().find("input[name="+n.attr("name").replace("-polyfill-field",'')+"]");n.hide(),t.show().focus()}).on("keypress",function(e){e.preventDefault(),n.val('')})}),t.on("submit",function(){t.find("input[type=text],input[type=password],textarea").each(function(){var t=e(this);t.attr("name").match(/-polyfill-field$/)&&t.attr("name",''),t.val()==t.attr("placeholder")&&(t.removeClass("polyfill-placeholder"),t.val(''))})}).on("reset",function(n){n.preventDefault(),t.find("select").val(e("option:first").val()),t.find("input,textarea").each(function(){var t=e(this),n;switch(t.removeClass("polyfill-placeholder"),this.type){case"submit":case"reset":break;case"password":t.val(t.attr("defaultValue")),n=t.parent().find("input[name="+t.attr("name")+"-polyfill-field]"),t.val()==''?(t.hide(),n.show()):(t.show(),n.hide());break;case"checkbox":case"radio":t.attr("checked",t.attr("defaultValue"));break;case"text":case"textarea":t.val(t.attr("defaultValue")),t.val()==''&&(t.addClass("polyfill-placeholder"),t.val(t.attr("placeholder")));break;default:t.val(t.attr("defaultValue"));break}})}),t},e.prioritize=function(t,s){var n="__prioritize";typeof t!="jQuery"&&(t=e(t)),t.each(function(){var t=e(this),o,i=t.parent();if(i.length==0)return;if(t.data(n)){if(s)return;o=t.data(n),t.insertAfter(o),t.removeData(n)}else{if(!s)return;if(o=t.prev(),o.length==0)return;t.prependTo(i),t.data(n,o)}})}})(jQuery)